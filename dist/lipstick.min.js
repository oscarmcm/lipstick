/*
 *  lipstick - v1.0.0
 *  A simple off-canvas navigation menu.
 *  
 *
 *  Made by Oscar Cortez
 *  Under MIT License
 */
!function(a){"use strict";var b=function(a,b){var c=a.css("padding-"+b);return c?+c.substring(0,c.length-2):0},c=function(a){var c=b(a,"left"),d=b(a,"right");return a.width()+c+d+"px"},d=function(b,c){var d={width:340,push:!0,position:"left",speed:300,trigger:void 0,autoEscape:!0,top:0,overlay:!1,zIndex:1050,overlayColor:"rgba(0,0,0,0.5)",menuColor:"",show:function(){},shown:function(){},hidden:function(){},hide:function(){}};this.setting=a.extend(d,c),this.element=b,this.init()};a.extend(d.prototype,{init:function(){var b=this,d=void 0,e=this.setting,f=this.element,g="all ease "+e.speed+"ms";f.css({position:"fixed",width:e.width,transition:g,height:"100%",top:e.top,"background-color":e.menuColor}),"data"!=e.position&&(f.css(e.position,"-"+c(f)),f.css("display","initial")),e.overlay&&(f.css("z-index",e.zIndex),b.overlayElement=a("<div class='lipstick-overlay'></div>").hide().css({position:"fixed",top:0,left:0,height:"100%",width:"100%","z-index":e.zIndex-1,"background-color":e.overlayColor}).click(function(){b.hide(d)}),a("body").prepend(b.overlayElement)),f.data("slide-reveal",!1),e.push&&a("body").css({position:"relative","overflow-x":"hidden",transition:g,left:"0px"}),e.trigger&&e.trigger.length>0&&e.trigger.on("click.slideReveal",function(){d=a(this),d.data("position")?"left"==d.data("position")?(f.css({left:"-"+c(f),display:"initial"}),b.show(d)):(f.css({left:"",right:"-"+c(f),display:"initial"}),b.show(d)):f.data("slide-reveal")?b.hide():b.show()}),e.autoEscape&&a(document).on("keydown.slideReveal",function(c){0===a("input:focus, textarea:focus").length&&27===c.keyCode&&f.data("slide-reveal")&&b.hide(d)})},show:function(b,d){var e=this.setting,f=this.element,g=this.overlayElement;(void 0===d||d)&&e.show(f),e.overlay&&g.show(),"data"==e.position?f.css(b.data("position"),"0px"):f.css(e.position,"0px"),e.push&&("data"==e.position?"left"===b.data("position")?a("body").css("left",c(f)):a("body").css("left","-"+c(f)):"left"===e.position?a("body").css("left",c(f)):a("body").css("left","-"+c(f))),f.data("slide-reveal",!0),(void 0===d||d)&&setTimeout(function(){e.shown(f)},e.speed)},hide:function(b,d){var e=this.setting,f=this.element,g=this.overlayElement;(void 0===d||d)&&e.hide(f),e.push&&a("body").css("left","0px"),"data"==e.position?f.css(b.data("position"),"-"+c(f)):f.css(e.position,"-"+c(f)),f.data("slide-reveal",!1),(void 0===d||d)&&setTimeout(function(){e.overlay&&g.hide(),e.hidden(f)},e.speed)},toggle:function(a){var b=this.element;b.data("slide-reveal")?this.hide(a):this.show(a)},remove:function(){this.element.removeData("slide-reveal-model"),this.setting.trigger&&this.setting.trigger.length>0&&this.setting.trigger.off(".slideReveal"),this.overlayElement&&this.overlayElement.length>0&&this.overlayElement.remove()}}),a.fn.lipstick=function(b,c){return void 0!==b&&"string"==typeof b?this.each(function(){var d=a(this).data("slide-reveal-model");"show"===b?d.show(c):"hide"===b?d.hide(c):"toggle"===b&&d.toggle(c)}):this.each(function(){a(this).data("slide-reveal-model")&&a(this).data("slide-reveal-model").remove(),a(this).data("slide-reveal-model",new d(a(this),b))}),this}}(jQuery);